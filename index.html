<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Chat Público</title>

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-database-compat.js"></script>

<style>
    body {
        background: white;
        color: black;
        font-family: Arial, sans-serif;
        margin: 0;
        padding: 20px;
    }

    h1 {
        text-align: center;
        font-weight: bold;
    }

    #messages {
        width: 100%;
        height: 400px;
        border: 2px solid black;
        padding: 10px;
        overflow-y: scroll;
        background: #ffffff;
        margin-bottom: 10px;
    }

    #textInput {
        width: 80%;
        padding: 10px;
        border: 2px solid black;
        font-size: 16px;
    }

    #sendBtn {
        width: 18%;
        padding: 10px;
        background: black;
        color: white;
        font-size: 16px;
        border: none;
        cursor: pointer;
    }

    #sendBtn:hover {
        background: #333;
    }
</style>
</head>

<body>

<h1>Chat Público</h1>

<div id="messages"></div>

<div>
    <input id="textInput" type="text" placeholder="Digite algo..." />
    <button id="sendBtn">Enviar</button>
</div>

<script>
    // --------------------
    // CONFIGURAÇÃO DO FIREBASE
    // --------------------
    const firebaseConfig = {
        apiKey: "SUA_API_KEY",
        authDomain: "SEU_AUTH_DOMAIN",
        databaseURL: "SUA_DATABASE_URL",
        projectId: "SEU_PROJECT_ID",
        storageBucket: "SEU_STORAGE_BUCKET",
        messagingSenderId: "SEU_SENDER_ID",
        appId: "SEU_APP_ID"
    };

    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();

    const messagesDiv = document.getElementById("messages");
    const input = document.getElementById("textInput");
    const sendBtn = document.getElementById("sendBtn");

    // Enviar mensagem
    sendBtn.onclick = function() {
        const text = input.value.trim();
        if (text.length === 0) return;

        db.ref("chat").push({
            text: text,
            time: Date.now()
        });

        input.value = "";
    };

    // Exibir mensagens em tempo real
    db.ref("chat").on("child_added", snapshot => {
        const msg = snapshot.val();
        const p = document.createElement("p");
        p.textContent = msg.text;
        messagesDiv.appendChild(p);

        // Scroll automático
        messagesDiv.scrollTop = messagesDiv.scrollHeight;
    });
</script>

</body>
</html>
